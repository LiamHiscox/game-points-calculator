(this["webpackJsonpgame-points-calculator"]=this["webpackJsonpgame-points-calculator"]||[]).push([[0],{121:function(e,n,t){},122:function(e,n,t){},123:function(e,n,t){},131:function(e,n,t){},132:function(e,n,t){},133:function(e,n,t){},134:function(e,n,t){},136:function(e,n,t){},137:function(e,n,t){},139:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),o=t.n(r),s=(t(121),t(7)),i=t(10),l=(t(122),t(210)),j="game",u=function(){var e=localStorage.getItem(j);if(e){var n=JSON.parse(e);return Object(s.a)(Object(s.a)({},n),{},{timestamp:new Date(n.timestamp)})}return{id:Object(l.a)(),name:"New Game",timestamp:new Date,players:[]}},d=t(212),b=t(188),p=t(141),O=t(189),m=t(190),f=t(142),h=t(191),x=t(187),y=t(35),g=t.n(y),v=(t(123),t(185)),w=t(186),C=t(2);function A(e){var n=e.message,t=e.open,a=e.onConfirm,c=e.onDecline,r=e.onCancel;return Object(C.jsxs)(d.a,{open:t,fullWidth:!0,onClose:r,children:[Object(C.jsx)(v.a,{children:n}),Object(C.jsxs)(w.a,{children:[Object(C.jsx)(x.a,{color:"primary",onClick:r,children:" Cancel "}),Object(C.jsxs)("div",{children:[Object(C.jsx)(x.a,{color:"primary",onClick:c,children:" No "}),Object(C.jsx)(x.a,{color:"primary",onClick:a,children:" Yes "})]})]})]})}function S(e){var n=e.players,t=e.open,c=e.onClose,r=e.onDelete,o=Object(a.useState)(!1),s=Object(i.a)(o,2),l=s[0],j=s[1],u=Object(a.useState)(""),y=Object(i.a)(u,2),v=y[0],w=y[1],S=Object(a.useState)(""),k=Object(i.a)(S,2),N=k[0],R=k[1];return Object(C.jsxs)(d.a,{open:t,fullWidth:!0,onClose:c,children:[Object(C.jsx)(b.a,{children:n.map((function(e,n){return Object(C.jsxs)(p.a,{children:[Object(C.jsx)(O.a,{primary:e.name}),Object(C.jsx)(m.a,{children:Object(C.jsx)(f.a,{onClick:function(){return n=e.id,t=e.name,w(n),R(t),void j(!0);var n,t},children:Object(C.jsx)(g.a,{color:"primary"})})})]},n)}))}),Object(C.jsx)(h.a,{}),Object(C.jsx)(x.a,{color:"primary",onClick:c,children:" Close "}),Object(C.jsx)(A,{message:"Are you sure you want to delete ".concat(N,"?"),open:l,onConfirm:function(){j(!1),r(v)},onDecline:function(){return j(!1)},onCancel:function(){return j(!1)}})]})}var k=t(49),N=(t(131),t(192)),R=t(213),G=t(91),P=t.n(G),D=t(90),I=t.n(D);function L(e){var n=e.players,t=e.open,c=e.onClose,r=Object(a.useState)(function(){var e=localStorage.getItem("order");return"asc"===e||"desc"===e?e:"asc"}()),o=Object(i.a)(r,2),l=o[0],j=o[1];Object(a.useEffect)((function(){return localStorage.setItem("order",l)}),[l]);var u=n.map((function(e){return{position:0,name:e.name,score:e.points.reduce((function(e,n){return e+(n||0)}),0),last:!1}})).sort((function(e,n){return"asc"===l?e.score-n.score:n.score-e.score})).reduce((function(e,n,t){return t>0&&e[t-1].score===n.score?e.concat(Object(s.a)(Object(s.a)({},n),{},{position:e[t-1].position})):e.concat(Object(s.a)(Object(s.a)({},n),{},{position:t+1}))}),Array()).reduceRight((function(e,n,t,a){return a.length-1===t&&n.position>3||e.length-1>=0&&e[e.length-1].last&&e[e.length-1].score===n.score?e.concat(Object(s.a)(Object(s.a)({},n),{},{last:!0})):e.concat(n)}),Array()).reverse();return Object(C.jsxs)(d.a,{open:t,fullWidth:!0,onClose:c,className:"leaderboard-dialog",children:["asc"===l?Object(C.jsx)(x.a,{color:"primary",endIcon:Object(C.jsx)(I.a,{}),onClick:function(){return j("desc")},children:"Highest First"}):Object(C.jsx)(x.a,{color:"primary",endIcon:Object(C.jsx)(P.a,{}),onClick:function(){return j("asc")},children:"Lowest First"}),Object(C.jsx)(h.a,{}),Object(C.jsx)(b.a,{className:"leaderboard-list",children:u.map((function(e,n){return Object(C.jsxs)(p.a,{children:[Object(C.jsx)(N.a,{className:e.position<=3?"place-"+e.position:"default-place",children:Object(C.jsxs)(R.a,{children:[" ",e.score," "]})}),Object(C.jsx)(O.a,{primary:e.name}),e.last&&Object(C.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQgSURBVFiF5ZdNTFxVFMd/9973YAYGOo2FFgq0aitqrYm1xKjR4AdoMHWa7iSKjS6auHBhTIwxGmJi46Zxo4k7TakLI5akEEpt1LZpEz9aY+nCL4pg+e4HX/PFm/fedUEHmOENM0PDRv+rmXPOPf//Offce/Pg/w6Ra2BnSLUAry+1aa3l6AxbTUP0moZz4KUe/lgzAd37qHIc1QusXxQAg5MaACVwA4Vif8tJpy0fATLXwKajDGn025n8jkaGLf3Z4UbK10QAgHDdNiCaUYSLsm314ZoJ2NNJFLiwUoxG784nZ04z0LGXoJlA2AYVCtUDVEPqDCRhSixfgdskBf0t3/D3LQk4FpIHBOKdJGE6vAQshQLXXyh6Bm0n1HoK2ysm4xZ0heRbAvFpJvJc4IAMz+mmKil/yhTj2YGOvQQNrUYA/0oE2TqwlOW2Yre++Tin012eHZCuUZeNPC9osCzV7MnlZRRazHrZHSSWNjLyWK7E1d5jpYW44WX3zCZI9IKagPlLxUHy5bXdfD9Ti6Ml9xWN8Gr5WUplDIDrViFHrmzhcqQEU7o8WTZO08aRhf0VApRtf+HFpdINra3IygmjXsNWAdsAjk/tpHPyfqQAQzqMWEFGrPU8HOhnOg4f929nIBqgUDrYWvJXuISgmaDaP39nFRiElalmGmrc890DWEv5Uragex9VD/4qf0brEwKeTdrPh2sAeKPiJIdq2vHLBJdilcRdkxuJAq7EigkaFgfv7eXl6vmjf3F64cnAsgnMxt33lJbX257hOU8BGoTjqHa02JXelVr/GDv8I9T6xwmoOZ5Y9zv3+MYwhUORcri9OMzjZVcpkC47Sqe5ozjMncXLxyjhUhCOy46OeoJJ28LEdIWMRzT63LJVKyDnY5iGkgJ5aP+39puQ0gG9Le9Mq4TWemfy9+IpEGIYvcK1avgpK3sIsWRshBZUl25JiXO0zYXhdiwnklmBWHwjFgRUlNtnRsdVHzcnPx0byx9l1wPvpxpdDWcH0pMztynML8NfexcicH0B54Pk/4VyZv9EafRHgGcbYrHRTPUsw0SkL6PPZ4rvHIvpFAFdz6sXw+vUsEB8Qob3YWryN6LR4azkCb/L0NTFjP6IpZ+eCcvJzxuMgwCqM6SaEHwFFK2cWhOJDFG5uQGR1KiBf6YWQwScnj3M1cjlLJkQlq0fe+Eu5ajmu2UbUJW1NCASHSISHmTDhjqUKkwRoE3JD/Gj9I4dyyXVTSG6TnSGVAzw5bwKMM1SKiuforRkO4GJzYxbffw4fITInOd7syIMYArYlM+iRGKGwcGOVV9ESSiBKxG0rzrDLaLQ4JK0cd5F68xju0YwJbGiEnePADjRSLHlk68hRCNLvnyyQWstR2epzYdYQNwwxDlfwnml+RTX8tT9H8S/ZlaLQtK4+3AAAAAASUVORK5CYII=",alt:"poop emoji"})]},n)}))}),Object(C.jsx)(h.a,{}),Object(C.jsx)(x.a,{color:"primary",onClick:c,children:" Close "})]})}t(132),t(133);var W=function(e){var n=e.player,t=e.onPointsChange,a=e.readonly;return 0!==n.points.length&&null===n.points[n.points.length-1]||t(n.points.concat(null)),Object(C.jsx)("div",{className:"player-container",children:n.points.map((function(e,c){return Object(C.jsx)("div",{className:"player-points player-input-cell",children:(!a||null!==e)&&Object(C.jsx)("input",{className:null!==e?"points-input":"points-input empty-input",type:"number",value:null!==e?e:"",onChange:function(e){return function(e,a){var c=e.target.value?+e.target.value:null,r=n.points.map((function(e,n){return n===a?c:e}));a===n.points.length-1?t(r.concat(null)):t(r)}(e,c)},onClick:function(e){e.currentTarget.select()},disabled:a})},c)}))})};function H(e){var n=e.players,t=e.onPlayerNameChange,c=e.onPointsChange,r=e.readonly,o=e.showRows,s=Object(a.useState)([]),l=Object(i.a)(s,2),j=l[0],u=l[1];return Object(a.useEffect)((function(){var e=n.reduce((function(e,n){var t=n.points;return t.length>e?t.length:e}),0);u(new Array(e).fill(null))}),[n]),Object(C.jsxs)("div",{className:"player-table-container",children:[Object(C.jsxs)("div",{className:"player-names",children:[Object(C.jsx)("div",{className:o?"player-row-placeholder-names placeholder-open":"player-row-placeholder-names placeholder-closed"}),n.map((function(e,n){return Object(C.jsx)("input",{className:"player-name",type:"text",disabled:r,value:e.name,onChange:function(n){return t(n.target.value,e.id)},onClick:function(e){e.currentTarget.select()}},n)}))]}),Object(C.jsxs)("div",{className:"row-players-container",children:[Object(C.jsx)("div",{className:o?"points-rows-container rows-open":"points-rows-container rows-closed",children:j.map((function(e,n){return Object(C.jsx)("div",{className:"points-row-index",children:n+1},n)}))}),Object(C.jsx)("div",{className:"player-table",children:n.map((function(e,n){return Object(C.jsx)(W,{player:e,onPointsChange:function(n){return c(n,e.id)},readonly:r},n)}))})]}),Object(C.jsxs)("div",{className:"player-scores",children:[Object(C.jsx)("div",{className:o?"player-row-placeholder-points placeholder-open":"player-row-placeholder-points placeholder-closed"}),n.map((function(e,n){return Object(C.jsx)("div",{className:"player-score player-header-cell",children:e.points.reduce((function(e,n){return e+(n||0)}),0)},n)}))]})]})}t(134);var U=t(106),T=t(193),E=t(194),F=t(55),J=t(94),B=t.n(J),Y=t(95),z=t.n(Y),K=t(71),M=t.n(K),Q=t(96),V=t.n(Q),q=t(97),Z=t.n(q),X=t(98),$=t.n(X),_=t(92),ee=t.n(_),ne=t(93),te=t.n(ne);function ae(e){var n=e.gameName,t=e.canSaveGame,a=e.onAddPlayer,r=e.onClearPoints,o=e.onOpenDelete,s=e.onOpenLeaderBoard,l=e.onNewGame,j=e.onNameChange,u=e.onOpenHistory,d=e.showRows,b=e.onToggleRows,p=c.a.useState(!1),m=Object(i.a)(p,2),h=m[0],x=m[1],y=c.a.useState(null),v=Object(i.a)(y,2),w=v[0],S=v[1],k=function(e){x(!1),r(e)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"top-bar",children:[Object(C.jsx)(f.a,{onClick:b,children:d?Object(C.jsx)(ee.a,{className:"top-bar-icon"}):Object(C.jsx)(te.a,{className:"top-bar-icon"})}),Object(C.jsx)("input",{type:"text",className:"game-name-input",value:n,onChange:function(e){return j(e.target.value)},onClick:function(e){e.currentTarget.select()}}),Object(C.jsx)(f.a,{onClick:function(e){S(e.currentTarget)},children:Object(C.jsx)(B.a,{className:"top-bar-icon"})})]}),Object(C.jsxs)(U.a,{anchorEl:w,open:!!w,onClose:function(){S(null)},children:[Object(C.jsxs)(T.a,{onClick:function(){x(!0)},children:[Object(C.jsxs)(E.a,{children:[" ",Object(C.jsx)(z.a,{color:"secondary"})," "]}),Object(C.jsx)(O.a,{primary:Object(C.jsx)(F.a,{color:"primary",children:" Clear Points "})})]}),Object(C.jsxs)(T.a,{onClick:o,children:[Object(C.jsxs)(E.a,{children:[" ",Object(C.jsx)(g.a,{color:"secondary"})," "]}),Object(C.jsx)(O.a,{primary:Object(C.jsx)(F.a,{color:"primary",children:" Remove Players "})})]}),Object(C.jsxs)(T.a,{onClick:a,children:[Object(C.jsxs)(E.a,{children:[" ",Object(C.jsx)(M.a,{color:"secondary"})," "]}),Object(C.jsx)(O.a,{primary:Object(C.jsx)(F.a,{color:"primary",children:" Add Player "})})]}),Object(C.jsxs)(T.a,{onClick:s,children:[Object(C.jsxs)(E.a,{children:[" ",Object(C.jsx)(V.a,{color:"secondary"})," "]}),Object(C.jsx)(O.a,{primary:Object(C.jsx)(F.a,{color:"primary",children:" Leaderboard "})})]}),Object(C.jsxs)(T.a,{onClick:l,children:[Object(C.jsxs)(E.a,{children:[" ",Object(C.jsx)(Z.a,{color:"secondary"})," "]}),Object(C.jsx)(O.a,{primary:Object(C.jsx)(F.a,{color:"primary",children:" New Game "})})]}),Object(C.jsxs)(T.a,{onClick:u,children:[Object(C.jsxs)(E.a,{children:[" ",Object(C.jsx)($.a,{color:"secondary"})," "]}),Object(C.jsx)(O.a,{primary:Object(C.jsx)(F.a,{color:"primary",children:" History "})})]})]}),Object(C.jsx)(A,{message:t?"Do you want to save the current game to the history?":"Are you sure you want to clear all points?",open:h,onConfirm:function(){return k(!0)},onDecline:function(){return k(!1)},onCancel:function(){return x(!1)}})]})}t(136);var ce=t(195),re=t(196),oe=t(197),se=t(214),ie=t(215),le=t(198),je=t(184),ue=t(208),de=t(82),be=t.n(de);function pe(e){var n=e.open,t=e.game,c=e.onClose,r=e.onSubmit,o=Object(a.useState)({id:"",timestamp:new Date,name:"",players:[]}),j=Object(i.a)(o,2),u=j[0],O=j[1],m=Object(a.useState)(!1),h=Object(i.a)(m,2),y=h[0],v=h[1],w=Object(a.useRef)(null);Object(a.useEffect)((function(){n&&O({id:Object(l.a)(),timestamp:new Date,name:t.name,players:t.players.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{points:[null]})}))})}),[t,n]);return Object(C.jsxs)(d.a,{fullScreen:!0,open:n,onClose:c,children:[Object(C.jsx)(ce.a,{position:"static",children:Object(C.jsx)(re.a,{className:"new-game-toolbar",children:Object(C.jsx)(f.a,{onClick:c,color:"inherit",children:Object(C.jsx)(be.a,{})})})}),Object(C.jsx)("div",{className:"new-game-list",children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsxs)(oe.a,{variant:"outlined",className:"player-name-form-control",children:[Object(C.jsx)(se.a,{children:" Game Name "}),Object(C.jsx)(ie.a,{type:"text",inputRef:w,value:u.name,error:!u.name,onChange:function(e){return n=e.target.value,void O(Object(s.a)(Object(s.a)({},u),{},{name:n}));var n},endAdornment:Object(C.jsx)(le.a,{position:"end",children:Object(C.jsx)(f.a,{onClick:function(){var e;null===w||void 0===w||null===(e=w.current)||void 0===e||e.focus(),O(Object(s.a)(Object(s.a)({},u),{},{name:""}))},children:Object(C.jsx)(be.a,{color:"primary"})})}),labelWidth:93})]})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(F.a,{style:{fontWeight:"bold"},children:" Players "})}),u.players.map((function(e,n,t){return Object(C.jsx)(je.a,{in:!0,children:Object(C.jsxs)(p.a,{children:[Object(C.jsx)(ue.a,{label:"Player Name",variant:"outlined",autoFocus:y&&n===t.length-1,value:e.name,style:{flex:"1"},onChange:function(e){return function(e,n){O(Object(s.a)(Object(s.a)({},u),{},{players:u.players.map((function(t,a){return n===a?Object(s.a)(Object(s.a)({},t),{},{name:e}):t}))}))}(e.target.value,n)},error:!e.name}),Object(C.jsx)(f.a,{onClick:function(){return function(e){O(Object(s.a)(Object(s.a)({},u),{},{players:u.players.filter((function(n,t){return t!==e}))}))}(n)},children:Object(C.jsx)(g.a,{color:"primary"})})]})},n)})),Object(C.jsx)(p.a,{style:{justifyContent:"center"},children:Object(C.jsx)(f.a,{onClick:function(){v(!0),O(Object(s.a)(Object(s.a)({},u),{},{players:u.players.concat({id:Object(l.a)(),name:"",points:[null]})}))},children:Object(C.jsx)(M.a,{color:"primary"})})})]})}),Object(C.jsx)(x.a,{color:"primary",variant:"contained",onClick:function(){return r(u)},disabled:function(){var e=!!u.players.find((function(e){return!e.name})),n=!u.name;return e||n}(),children:"New Game"})]})}t(137);var Oe=t(211),me=t(199),fe=t(200),he=t(201),xe=t(202),ye=t(203),ge=t(204),ve=t(205),we=t(206),Ce=t(99),Ae=t.n(Ce),Se=t(101),ke=t.n(Se),Ne=t(100),Re=t.n(Ne);function Ge(e){var n=e.open,t=e.onClose,c=e.onReturnPlaying,r=e.onDeleteGame,o=e.games,s=Object(a.useState)(null),l=Object(i.a)(s,2),j=l[0],u=l[1],b=Object(a.useState)(!1),p=Object(i.a)(b,2),O=p[0],m=p[1],h=Object(a.useState)(!1),x=Object(i.a)(h,2),y=x[0],v=x[1],w=Object(a.useState)(!1),S=Object(i.a)(w,2),k=S[0],N=S[1],R=Object(a.useState)(null),G=Object(i.a)(R,2),P=G[0],D=G[1];return Object(C.jsxs)(d.a,{fullWidth:!0,open:n,onClose:function(){D(null),t()},children:[o.length<=0&&Object(C.jsx)(F.a,{children:"No past games found!"}),o.map((function(e,n){return Object(C.jsxs)(Oe.a,{expanded:P===n,onChange:function(){var e;D(P===(e=n)?null:e)},children:[Object(C.jsx)(me.a,{expandIcon:Object(C.jsx)(Ae.a,{color:"primary"}),children:Object(C.jsxs)("div",{className:"summary-container",children:[Object(C.jsx)(F.a,{children:e.name}),Object(C.jsxs)(F.a,{className:"summary-subtitle",variant:"caption",children:[e.timestamp.toLocaleDateString()," - ",e.timestamp.toLocaleTimeString()]})]})}),Object(C.jsx)(fe.a,{style:{overflow:"auto"},children:Object(C.jsxs)(he.a,{size:"small",children:[Object(C.jsx)(xe.a,{children:Object(C.jsx)(ye.a,{children:e.players.map((function(e,n){return Object(C.jsx)(ge.a,{children:e.name},n)}))})}),Object(C.jsx)(ve.a,{children:Object(C.jsx)(ye.a,{children:e.players.map((function(e,n){return Object(C.jsx)(ge.a,{component:"th",scope:"row",children:e.points.reduce((function(e,n){return e+(n||0)}),0)},n)}))})})]})}),Object(C.jsx)(we.a,{children:Object(C.jsxs)("div",{className:"history-actions",children:[Object(C.jsx)(f.a,{onClick:function(){return function(e){u(e),v(!0)}(e)},children:Object(C.jsx)(g.a,{color:"primary"})}),Object(C.jsx)(f.a,{onClick:function(){return function(e){u(e),N(!0)}(e)},children:Object(C.jsx)(Re.a,{color:"primary"})}),Object(C.jsx)(f.a,{onClick:function(){return function(e){u(e),m(!0)}(e)},children:Object(C.jsx)(ke.a,{color:"primary"})})]})})]},n)})),Object(C.jsx)(d.a,{open:O,onClose:function(){return m(!1)},children:Object(C.jsx)(H,{players:(null===j||void 0===j?void 0:j.players)||[],onPlayerNameChange:function(){},onPointsChange:function(){},readonly:!0,showRows:!1})}),Object(C.jsx)(A,{message:"Are you sure you want to delete ".concat(null===j||void 0===j?void 0:j.name,"?"),open:y,onConfirm:function(){v(!1),j&&r(j.id),D(null)},onDecline:function(){return v(!1)},onCancel:function(){return v(!1)}}),Object(C.jsx)(A,{message:"Are you sure you want to replay ".concat(null===j||void 0===j?void 0:j.name,"?"),open:k,onConfirm:function(){N(!1),j&&c(j),D(null)},onDecline:function(){return N(!1)},onCancel:function(){return N(!1)}})]})}var Pe=t(22),De=t.n(Pe),Ie=t(38),Le=t(102),We=t(107),He=t(105),Ue=function(e){Object(We.a)(t,e);var n=Object(He.a)(t);function t(){var e;return Object(Le.a)(this,t),(e=n.call(this,"GamesDatabase")).games=void 0,e.version(1).stores({games:"id,timestamp,name,players"}),e.games=e.table("games"),e}return t}(t(103).a);var Te=function(){var e=function(){var e=Object(a.useState)(u),n=Object(i.a)(e,2),t=n[0],c=n[1];return[t,function(e){c(e),localStorage.setItem(j,JSON.stringify(e))}]}(),n=Object(i.a)(e,2),t=n[0],c=n[1],r=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(new Ue),o=Object(i.a)(r,1)[0],s=Object(k.b)().enqueueSnackbar;Object(a.useEffect)((function(){o.transaction("r",o.games,Object(Ie.a)(De.a.mark((function e(){var n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.games.orderBy("timestamp").reverse().toArray();case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)}))))}),[o]);var l=function(){var e=Object(Ie.a)(De.a.mark((function e(){var n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.games.orderBy("timestamp").reverse().toArray();case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{games:t,deleteGame:function(){var e=Object(Ie.a)(De.a.mark((function e(n){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.transaction("rw",o.games,Object(Ie.a)(De.a.mark((function e(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.games.where("id").equals(n).delete();case 2:return e.next=4,l();case 4:s("Successfully deleted game",{variant:"success"});case 5:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),replayGame:function(){var e=Object(Ie.a)(De.a.mark((function e(n){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.transaction("rw",o.games,Object(Ie.a)(De.a.mark((function e(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.games.where("id").equals(n).delete();case 2:return e.next=4,l();case 4:s("Successfully loaded old game",{variant:"success"});case 5:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),addGame:function(e){o.transaction("rw",o.games,Object(Ie.a)(De.a.mark((function n(){return De.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.games.add(e);case 2:return n.next=4,l();case 4:case"end":return n.stop()}}),n)}))))}}}(),o=r.games,d=r.deleteGame,b=r.replayGame,p=r.addGame,O=Object(a.useState)(!1),m=Object(i.a)(O,2),f=m[0],h=m[1],x=Object(a.useState)(!1),y=Object(i.a)(x,2),g=y[0],v=y[1],w=Object(a.useState)(!1),A=Object(i.a)(w,2),N=A[0],R=A[1],G=Object(a.useState)(!1),P=Object(i.a)(G,2),D=P[0],I=P[1],W=Object(a.useState)(!!localStorage.getItem("showRows")),U=Object(i.a)(W,2),T=U[0],E=U[1],F=Object(k.b)().enqueueSnackbar;0===t.players.length&&c(Object(s.a)(Object(s.a)({},t),{},{players:[{id:Object(l.a)(),name:"Liam",points:[null]}]}));var J=function(e){return e.players.map((function(e){return e.points.filter((function(e){return null!==e}))})).filter((function(e){return e.length>0})).length>=e.players.length},B=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];J(t)&&n&&p(t),c(Object(s.a)(Object(s.a)({},e),{},{id:Object(l.a)(),timestamp:new Date,players:e.players})),R(!1)};return Object(C.jsxs)("div",{className:"app",children:[Object(C.jsx)(ae,{gameName:t.name,canSaveGame:J(t),onNameChange:function(e){c(Object(s.a)(Object(s.a)({},t),{},{name:e}))},onAddPlayer:function(){c(Object(s.a)(Object(s.a)({},t),{},{players:t.players.concat({id:Object(l.a)(),name:"Player ".concat(t.players.length+1),points:[null]})})),F("".concat(t.players.length+1," players"))},onClearPoints:function(e){B(Object(s.a)(Object(s.a)({},t),{},{players:t.players.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{points:[null]})}))}),e)},onOpenDelete:function(){return h(!0)},onOpenLeaderBoard:function(){return v(!0)},onNewGame:function(){return R(!0)},onOpenHistory:function(){return I(!0)},showRows:T,onToggleRows:function(){E(!T),localStorage.setItem("showRows",T?"":"true")}}),Object(C.jsx)(H,{onPlayerNameChange:function(e,n){c(Object(s.a)(Object(s.a)({},t),{},{players:t.players.map((function(t){return t.id===n?Object(s.a)(Object(s.a)({},t),{},{name:e}):t}))}))},onPointsChange:function(e,n){c(Object(s.a)(Object(s.a)({},t),{},{players:t.players.map((function(t){return t.id===n?Object(s.a)(Object(s.a)({},t),{},{points:e}):t}))}))},players:t.players,readonly:!1,showRows:T}),Object(C.jsx)(S,{players:t.players,open:f,onDelete:function(e){c(Object(s.a)(Object(s.a)({},t),{},{players:t.players.filter((function(n){return n.id!==e}))}))},onClose:function(){return h(!1)}}),Object(C.jsx)(L,{players:t.players,open:g,onClose:function(){return v(!1)}}),Object(C.jsx)(pe,{open:N,game:t,onClose:function(){return R(!1)},onSubmit:B}),Object(C.jsx)(Ge,{open:D,onClose:function(){return I(!1)},onReturnPlaying:function(e){J(t)&&p(t),b(e.id),c(Object(s.a)(Object(s.a)({},e),{},{timestamp:new Date})),I(!1)},onDeleteGame:function(e){d(e),I(!1)},games:o})]})},Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Je=t(207),Be=t(104),Ye=Object(Be.a)({palette:{primary:{main:"#3F51B5",contrastText:"#ffffff"},secondary:{main:"#FFA000",contrastText:"#ffffff"}}});o.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(Je.a,{theme:Ye,children:Object(C.jsx)(k.a,{maxSnack:1,dense:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(C.jsx)(Te,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");Ee?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fe(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Fe(n,e)}))}}()}},[[139,1,2]]]);
//# sourceMappingURL=main.2ad9be5d.chunk.js.map