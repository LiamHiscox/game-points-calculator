(this["webpackJsonpgame-points-calculator"]=this["webpackJsonpgame-points-calculator"]||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){},110:function(e,n,t){},117:function(e,n,t){},118:function(e,n,t){},119:function(e,n,t){},120:function(e,n,t){},122:function(e,n,t){},123:function(e,n,t){},124:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(11),o=t.n(r),i=(t(104),t(7)),s=t(12),l=(t(105),t(27)),u=t.n(l),j=t(46),b=t(28),p=t(35),O=t.n(p),d="game",f={id:Object(b.v4)(),name:"Game ".concat((new Date).toLocaleDateString()),timestamp:new Date,players:[]},m=t(184),h=t(164),y=t(125),x=t(165),v=t(166),g=t(126),C=t(167),w=t(163),k=t(32),N=t.n(k),S=(t(110),t(161)),P=t(162),D=t(2);function G(e){var n=e.message,t=e.open,a=e.onConfirm,c=e.onDecline;return Object(D.jsxs)(m.a,{open:t,fullWidth:!0,onClose:c,children:[Object(D.jsx)(S.a,{children:n}),Object(D.jsxs)(P.a,{children:[Object(D.jsx)(w.a,{color:"primary",onClick:c,children:" No "}),Object(D.jsx)(w.a,{color:"primary",onClick:a,children:" Yes "})]})]})}function W(e){var n=e.players,t=e.open,c=e.onClose,r=e.onDelete,o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],j=Object(a.useState)(""),b=Object(s.a)(j,2),p=b[0],O=b[1],d=Object(a.useState)(""),f=Object(s.a)(d,2),k=f[0],S=f[1];return Object(D.jsxs)(m.a,{open:t,fullWidth:!0,onClose:c,children:[Object(D.jsx)(h.a,{children:n.map((function(e,n){return Object(D.jsxs)(y.a,{children:[Object(D.jsx)(x.a,{primary:e.name}),Object(D.jsx)(v.a,{children:Object(D.jsx)(g.a,{onClick:function(){return n=e.id,t=e.name,O(n),S(t),void u(!0);var n,t},children:Object(D.jsx)(N.a,{color:"primary"})})})]},n)}))}),Object(D.jsx)(C.a,{}),Object(D.jsx)(w.a,{color:"primary",onClick:c,children:" Close "}),Object(D.jsx)(G,{message:"Are you sure you want to delete ".concat(k,"?"),open:l,onConfirm:function(){u(!1),r(p)},onDecline:function(){return u(!1)}})]})}var A=t(45),L=(t(117),t(169)),I=t(185),T=t(80),E=t.n(T),F=t(79),B=t.n(F);function H(e){var n=e.players,t=e.open,c=e.onClose,r=Object(a.useState)("asc"),o=Object(s.a)(r,2),l=o[0],u=o[1],j=n.map((function(e){return{position:0,name:e.name,score:e.points.reduce((function(e,n){return e+(n||0)}),0)}})).sort((function(e,n){return"asc"===l?e.score-n.score:n.score-e.score})).reduce((function(e,n,t){return t>0&&e[t-1].score===n.score?e.concat(Object(i.a)(Object(i.a)({},n),{},{position:e[t-1].position})):e.concat(Object(i.a)(Object(i.a)({},n),{},{position:t+1}))}),Array());return Object(D.jsxs)(m.a,{open:t,fullWidth:!0,onClose:c,children:["asc"===l?Object(D.jsx)(w.a,{color:"primary",endIcon:Object(D.jsx)(B.a,{}),onClick:function(){return u("desc")},children:"Highest First"}):Object(D.jsx)(w.a,{color:"primary",endIcon:Object(D.jsx)(E.a,{}),onClick:function(){return u("asc")},children:"Lowest First"}),Object(D.jsx)(C.a,{}),Object(D.jsx)(h.a,{children:j.map((function(e,n){return Object(D.jsxs)(y.a,{children:[Object(D.jsx)(L.a,{className:e.position<=3?"place-"+e.position:"default-place",children:Object(D.jsxs)(I.a,{children:[" ",e.score," "]})}),Object(D.jsx)(x.a,{primary:e.name})]},n)}))}),Object(D.jsx)(C.a,{}),Object(D.jsx)(w.a,{color:"primary",onClick:c,children:" Close "})]})}t(118),t(119);var R=function(e){var n=e.player,t=e.onPointsChange,a=e.readonly;return 0!==n.points.length&&null===n.points[n.points.length-1]||t(n.points.concat(null)),Object(D.jsx)("div",{className:"player-container",children:n.points.map((function(e,c){return Object(D.jsx)("div",{className:"player-points player-input-cell",children:(!a||null!==e)&&Object(D.jsx)("input",{className:null!==e?"points-input":"points-input empty-input",type:"number",value:null!==e?e:"",onChange:function(e){return function(e,a){var c=e.target.value?+e.target.value:null,r=n.points.map((function(e,n){return n===a?c:e}));a===n.points.length-1?t(r.concat(null)):t(r)}(e,c)},onClick:function(e){e.currentTarget.select()},disabled:a})},c)}))})};function U(e){var n=e.players,t=e.onPlayerNameChange,a=e.onPointsChange,c=e.readonly;return Object(D.jsxs)("div",{className:"player-table-container",children:[Object(D.jsx)("div",{className:"player-names",children:n.map((function(e,n){return Object(D.jsx)("input",{className:"player-name",type:"text",disabled:c,value:e.name,onChange:function(n){return t(n.target.value,e.id)},onClick:function(e){e.currentTarget.select()}},n)}))}),Object(D.jsx)("div",{className:"player-table",children:n.map((function(e,n){return Object(D.jsx)(R,{player:e,onPointsChange:function(n){return a(n,e.id)},readonly:c},n)}))}),Object(D.jsx)("div",{className:"player-scores",children:n.map((function(e,n){return Object(D.jsx)("div",{className:"player-score player-header-cell",children:e.points.reduce((function(e,n){return e+(n||0)}),0)},n)}))})]})}t(120);var q=t(90),z=t(170),J=t(171),M=t(66),Y=t(81),$=t.n(Y),K=t(82),Q=t.n(K),V=t(63),X=t.n(V),Z=t(83),_=t.n(Z),ee=t(84),ne=t.n(ee),te=t(85),ae=t.n(te);function ce(e){var n=e.gameName,t=e.onAddPlayer,a=e.onClearPoints,r=e.onOpenDelete,o=e.onOpenLeaderBoard,i=e.onNewGame,l=e.onNameChange,u=e.onOpenHistory,j=c.a.useState(!1),b=Object(s.a)(j,2),p=b[0],O=b[1],d=c.a.useState(null),f=Object(s.a)(d,2),m=f[0],h=f[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"top-bar",children:[Object(D.jsx)("div",{className:"empty-container"}),Object(D.jsx)("input",{type:"text",className:"game-name-input",value:n,onChange:function(e){return l(e.target.value)},onClick:function(e){e.currentTarget.select()}}),Object(D.jsx)(g.a,{onClick:function(e){h(e.currentTarget)},children:Object(D.jsx)($.a,{className:"top-bar-icon"})})]}),Object(D.jsxs)(q.a,{anchorEl:m,open:!!m,onClose:function(){h(null)},children:[Object(D.jsxs)(z.a,{onClick:function(){O(!0)},children:[Object(D.jsxs)(J.a,{children:[" ",Object(D.jsx)(Q.a,{color:"secondary"})," "]}),Object(D.jsx)(x.a,{primary:Object(D.jsx)(M.a,{color:"primary",children:" Clear Points "})})]}),Object(D.jsxs)(z.a,{onClick:r,children:[Object(D.jsxs)(J.a,{children:[" ",Object(D.jsx)(N.a,{color:"secondary"})," "]}),Object(D.jsx)(x.a,{primary:Object(D.jsx)(M.a,{color:"primary",children:" Remove Players "})})]}),Object(D.jsxs)(z.a,{onClick:t,children:[Object(D.jsxs)(J.a,{children:[" ",Object(D.jsx)(X.a,{color:"secondary"})," "]}),Object(D.jsx)(x.a,{primary:Object(D.jsx)(M.a,{color:"primary",children:" Add Player "})})]}),Object(D.jsxs)(z.a,{onClick:o,children:[Object(D.jsxs)(J.a,{children:[" ",Object(D.jsx)(_.a,{color:"secondary"})," "]}),Object(D.jsx)(x.a,{primary:Object(D.jsx)(M.a,{color:"primary",children:" Leaderboard "})})]}),Object(D.jsxs)(z.a,{onClick:i,children:[Object(D.jsxs)(J.a,{children:[" ",Object(D.jsx)(ne.a,{color:"secondary"})," "]}),Object(D.jsx)(x.a,{primary:Object(D.jsx)(M.a,{color:"primary",children:" New Game "})})]}),Object(D.jsxs)(z.a,{onClick:u,children:[Object(D.jsxs)(J.a,{children:[" ",Object(D.jsx)(ae.a,{color:"secondary"})," "]}),Object(D.jsx)(x.a,{primary:Object(D.jsx)(M.a,{color:"primary",children:" History "})})]})]}),Object(D.jsx)(G,{message:"Are you sure you want to clear all points?",open:p,onConfirm:function(){O(!1),a()},onDecline:function(){return O(!1)}})]})}t(122);var re=t(181);function oe(e){var n=e.open,t=e.players,c=e.onClose,r=e.onSubmit,o=Object(a.useState)({id:"",timestamp:new Date,name:"",players:[]}),l=Object(s.a)(o,2),u=l[0],j=l[1];Object(a.useEffect)((function(){return j({id:Object(b.v4)(),timestamp:new Date,name:"Game ".concat((new Date).toLocaleDateString()),players:t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{points:[null]})}))})}),[t,n]);return Object(D.jsxs)(m.a,{fullWidth:!0,open:n,onClose:c,children:[Object(D.jsxs)(h.a,{children:[Object(D.jsx)(y.a,{children:Object(D.jsx)(re.a,{label:"Game Name",variant:"outlined",value:u.name,style:{flex:"1"},onChange:function(e){return n=e.target.value,void j(Object(i.a)(Object(i.a)({},u),{},{name:n}));var n},error:!u.name})}),Object(D.jsx)(y.a,{children:Object(D.jsx)(M.a,{style:{fontWeight:"bold"},children:" Players "})}),u.players.map((function(e,n){return Object(D.jsxs)(y.a,{children:[Object(D.jsx)(re.a,{label:"Player Name",variant:"outlined",value:e.name,style:{flex:"1"},onChange:function(e){return function(e,n){j(Object(i.a)(Object(i.a)({},u),{},{players:u.players.map((function(t,a){return n===a?Object(i.a)(Object(i.a)({},t),{},{name:e}):t}))}))}(e.target.value,n)},error:!e.name}),Object(D.jsx)(g.a,{onClick:function(){return function(e){j(Object(i.a)(Object(i.a)({},u),{},{players:u.players.filter((function(n,t){return t!==e}))}))}(n)},children:Object(D.jsx)(N.a,{color:"primary"})})]},n)})),Object(D.jsx)(y.a,{button:!0,style:{justifyContent:"center"},onClick:function(){j(Object(i.a)(Object(i.a)({},u),{},{players:u.players.concat({id:Object(b.v4)(),name:"",points:[null]})}))},children:Object(D.jsx)(X.a,{color:"primary"})})]}),Object(D.jsx)(C.a,{}),Object(D.jsx)(w.a,{color:"primary",onClick:function(){return r(u)},disabled:function(){var e=!!u.players.find((function(e){return!e.name})),n=!u.name;return e||n}(),children:"New Game"})]})}t(123);var ie=t(186),se=t(172),le=t(173),ue=t(174),je=t(175),be=t(176),pe=t(177),Oe=t(178),de=t(179),fe=t(86),me=t.n(fe),he=t(88),ye=t.n(he),xe=t(87),ve=t.n(xe);function ge(e){var n=e.open,t=e.onClose,c=e.onReturnPlaying,r=e.onDeleteGame,o=e.games,i=Object(a.useState)(null),l=Object(s.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(!1),p=Object(s.a)(b,2),O=p[0],d=p[1],f=Object(a.useState)(!1),h=Object(s.a)(f,2),y=h[0],x=h[1],v=Object(a.useState)(!1),C=Object(s.a)(v,2),w=C[0],k=C[1],S=Object(A.b)().enqueueSnackbar;return Object(D.jsxs)(m.a,{fullWidth:!0,open:n,onClose:t,children:[(!o||o.length<=0)&&Object(D.jsx)(M.a,{children:"No past games found!"}),null===o||void 0===o?void 0:o.map((function(e,n){return Object(D.jsxs)(ie.a,{children:[Object(D.jsx)(se.a,{expandIcon:Object(D.jsx)(me.a,{color:"primary"}),children:Object(D.jsxs)("div",{className:"summary-container",children:[Object(D.jsx)(M.a,{children:e.name}),Object(D.jsxs)(M.a,{className:"summary-subtitle",variant:"caption",children:[e.timestamp.toLocaleDateString()," - ",e.timestamp.toLocaleTimeString()]})]})}),Object(D.jsx)(le.a,{style:{overflow:"auto"},children:Object(D.jsxs)(ue.a,{size:"small",children:[Object(D.jsx)(je.a,{children:Object(D.jsx)(be.a,{children:e.players.map((function(e,n){return Object(D.jsx)(pe.a,{children:e.name},n)}))})}),Object(D.jsx)(Oe.a,{children:Object(D.jsx)(be.a,{children:e.players.map((function(e,n){return Object(D.jsx)(pe.a,{component:"th",scope:"row",children:e.points.reduce((function(e,n){return e+(n||0)}),0)},n)}))})})]})}),Object(D.jsx)(de.a,{children:Object(D.jsxs)("div",{className:"history-actions",children:[Object(D.jsx)(g.a,{onClick:function(){return function(e){j(e),x(!0)}(e)},children:Object(D.jsx)(N.a,{color:"primary"})}),Object(D.jsx)(g.a,{onClick:function(){return function(e){j(e),k(!0)}(e)},children:Object(D.jsx)(ve.a,{color:"primary"})}),Object(D.jsx)(g.a,{onClick:function(){return function(e){j(e),d(!0)}(e)},children:Object(D.jsx)(ye.a,{color:"primary"})})]})})]},n)})),Object(D.jsx)(m.a,{open:O,onClose:function(){return d(!1)},children:Object(D.jsx)(U,{players:(null===u||void 0===u?void 0:u.players)||[],onPlayerNameChange:function(){},onPointsChange:function(){},readonly:!0})}),Object(D.jsx)(G,{message:"Are you sure you want to delete ".concat(null===u||void 0===u?void 0:u.name,"?"),open:y,onConfirm:function(){x(!1),u&&r(u.id),u&&S("Successfully deleted game ".concat(u.name),{variant:"success"})},onDecline:function(){return x(!1)}}),Object(D.jsx)(G,{message:"Are you sure you want to replay ".concat(null===u||void 0===u?void 0:u.name,"?"),open:w,onConfirm:function(){u&&c(u),k(!1)},onDecline:function(){return k(!1)}})]})}var Ce="games";var we=function(){var e=function(){var e=Object(a.useState)(f),n=Object(s.a)(e,2),t=n[0],c=n[1];return Object(a.useEffect)((function(){O.a.getItem(d).then((function(e){return e&&c(e)}))}),[]),[t,function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(n),e.next=3,O.a.setItem(d,n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()]}(),n=Object(s.a)(e,2),t=n[0],c=n[1],r=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],c=n[1];Object(a.useEffect)((function(){O.a.getItem(Ce).then((function(e){return e&&c(e)}))}),[]);var r=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.setItem(Ce,n);case 2:c(n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.filter((function(e){return e.id!==n})),e.next=3,O.a.setItem(Ce,a);case 3:c(a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.concat(n),e.next=3,O.a.setItem(Ce,a);case 3:c(a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{games:t,setGames:r,deleteGame:o,addGame:i}}(),o=r.games,l=r.deleteGame,p=r.addGame,m=Object(a.useState)(!1),h=Object(s.a)(m,2),y=h[0],x=h[1],v=Object(a.useState)(!1),g=Object(s.a)(v,2),C=g[0],w=g[1],k=Object(a.useState)(!1),N=Object(s.a)(k,2),S=N[0],P=N[1],G=Object(a.useState)(!1),L=Object(s.a)(G,2),I=L[0],T=L[1],E=Object(A.b)().enqueueSnackbar;0===t.players.length&&c(Object(i.a)(Object(i.a)({},t),{},{players:[{id:Object(b.v4)(),name:"Liam",points:[null]}]}));var F=function(e){return e.players.map((function(e){return e.points.filter((function(e){return null!==e}))})).filter((function(e){return e.length>0})).length>0},B=function(e){F(t)&&p(t),l(e.id),c(Object(i.a)(Object(i.a)({},e),{},{timestamp:new Date})),T(!1)};return Object(D.jsxs)("div",{className:"app",children:[Object(D.jsx)(ce,{gameName:t.name,onNameChange:function(e){c(Object(i.a)(Object(i.a)({},t),{},{name:e}))},onAddPlayer:function(){c(Object(i.a)(Object(i.a)({},t),{},{players:t.players.concat({id:Object(b.v4)(),name:"Player ".concat(t.players.length+1),points:[null]})})),E("".concat(t.players.length+1," players"))},onClearPoints:function(){c(Object(i.a)(Object(i.a)({},t),{},{players:t.players.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{points:[null]})}))}))},onOpenDelete:function(){return x(!0)},onOpenLeaderBoard:function(){return w(!0)},onNewGame:function(){return P(!0)},onOpenHistory:function(){return T(!0)}}),Object(D.jsx)(U,{onPlayerNameChange:function(e,n){c(Object(i.a)(Object(i.a)({},t),{},{players:t.players.map((function(t){return t.id===n?Object(i.a)(Object(i.a)({},t),{},{name:e}):t}))}))},onPointsChange:function(e,n){c(Object(i.a)(Object(i.a)({},t),{},{players:t.players.map((function(t){return t.id===n?Object(i.a)(Object(i.a)({},t),{},{points:e}):t}))}))},players:t.players,readonly:!1}),Object(D.jsx)(W,{players:t.players,open:y,onDelete:function(e){c(Object(i.a)(Object(i.a)({},t),{},{players:t.players.filter((function(n){return n.id!==e}))}))},onClose:function(){return x(!1)}}),Object(D.jsx)(H,{players:t.players,open:C,onClose:function(){return w(!1)}}),Object(D.jsx)(oe,{open:S,players:t.players,onClose:function(){return P(!1)},onSubmit:function(e){F(t)&&p(t),c({id:Object(b.v4)(),name:t.name,timestamp:new Date,players:e.players}),P(!1)}}),Object(D.jsx)(ge,{open:I,onClose:function(){return T(!1)},onReturnPlaying:function(e){return B(e)},onDeleteGame:function(e){!function(e){l(e),T(!1)}(e)},games:o})]})},ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Se=t(180),Pe=t(89),De=Object(Pe.a)({palette:{primary:{main:"#3F51B5",contrastText:"#ffffff"},secondary:{main:"#FFA000",contrastText:"#ffffff"}}});o.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(Se.a,{theme:De,children:Object(D.jsx)(A.a,{maxSnack:1,dense:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(D.jsx)(we,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/game-points-calculator/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/game-points-calculator/build","/service-worker.js");ke?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ne(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ne(n,e)}))}}()}},[[124,1,2]]]);
//# sourceMappingURL=main.673ce794.chunk.js.map